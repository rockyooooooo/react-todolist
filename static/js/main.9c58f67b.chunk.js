(this["webpackJsonpreact-todolist"]=this["webpackJsonpreact-todolist"]||[]).push([[0],{29:function(n,e,t){},33:function(n,e,t){},34:function(n,e,t){"use strict";t.r(e);var r,o=t(0),a=t.n(o),c=t(9),i=t.n(c),u=t(5),d=(t(29),t(3)),s=t(4),l=s.a.button(r||(r=Object(d.a)(["\n  background: transparent;\n  font-size: 1rem;\n  color: var(--gray-dark);\n  padding: 0.5rem;\n  border-radius: 0.5rem;\n  border: none;\n  transition: color var(--transition-duration) ease;\n  cursor: pointer;\n  user-select: none;\n\n  &:hover {\n    color: var(--gray-main);\n  }\n"]))),b=t(2),f=t(21),j=t(18),p=t.n(j),O=t(1);function h(n){var e=n.onChange,t=n.onInput,r=n.onBlur,o=n.onKeyPress,c=n.onKeyDown,i=Object(f.a)(n,["onChange","onInput","onBlur","onKeyPress","onKeyDown"]),u=a.a.useRef(e),d=a.a.useRef(t),s=a.a.useRef(r),l=a.a.useRef(o),j=a.a.useRef(c);return a.a.useEffect((function(){u.current=e}),[e]),a.a.useEffect((function(){d.current=t}),[t]),a.a.useEffect((function(){s.current=r}),[r]),a.a.useEffect((function(){l.current=o}),[o]),a.a.useEffect((function(){j.current=c}),[c]),Object(O.jsx)(p.a,Object(b.a)(Object(b.a)({},i),{},{onChange:e?function(){u.current&&u.current.apply(u,arguments)}:void 0,onInput:t?function(){d.current&&d.current.apply(d,arguments)}:void 0,onBlur:r?function(){s.current&&s.current.apply(s,arguments)}:void 0,onKeyPress:o?function(){l.current&&l.current.apply(l,arguments)}:void 0,onKeyDown:c?function(){j.current&&j.current.apply(j,arguments)}:void 0}))}t(33);var v,y,g,x,m,k="add_todo",w="delete_todo",C="toggle_todo",_="edit_todo",E="delete_all_todos",S="toggle_filter",D=function(n){return{type:S,payload:{filter:n}}},I=s.a.li(v||(v=Object(d.a)(["\n  position: relative;\n  max-width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem;\n  border-radius: 0.5rem;\n  transition: background var(--transition-duration) ease;\n\n  &:hover button {\n    opacity: 1;\n  }\n\n  ","\n"])),(function(n){return!n.$isChecked&&"\n    &:hover {\n      background: var(--bg-hover);\n    }\n  "})),N=s.a.input(y||(y=Object(d.a)(["\n  width: 1.5rem;\n  height: 1.5rem;\n  cursor: pointer;\n"]))),R=Object(s.a)(l)(g||(g=Object(d.a)(["\n  opacity: 0;\n  flex-shrink: 0;\n  transition: color var(--transition-duration) ease,\n    opacity var(--transition-duration) ease;\n"])));function K(n){var e=n.todo,t=Object(u.b)(),r=e.id,o=e.content,a=e.isChecked,c="editableContent ".concat(a?"isDone":"");return Object(O.jsxs)(I,{$isChecked:a,children:[Object(O.jsx)(N,{type:"checkbox",checked:a,onChange:function(){return t(function(n){return{type:C,payload:{id:n}}}(r))}}),Object(O.jsx)(h,{tagName:"pre",className:c,html:o,onChange:function(n){return t(function(n,e){return{type:_,payload:{id:n,content:e}}}(r,n.target.value))}}),Object(O.jsx)(R,{onClick:function(){return t(function(n){return{type:w,payload:{id:n}}}(r))},children:"\u522a\u9664"})]})}var B=s.a.div(x||(x=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),J=Object(s.a)(l)(m||(m=Object(d.a)(["\n  flex: 1;\n"])));function T(){var n=Object(u.b)();return Object(O.jsxs)(B,{children:[Object(O.jsx)(J,{onClick:function(){return n(D(null))},children:"\u5168\u90e8"}),Object(O.jsx)(J,{onClick:function(){return n(D(!0))},children:"\u672a\u5b8c\u6210"}),Object(O.jsx)(J,{onClick:function(){return n(D(!1))},children:"\u5df2\u5b8c\u6210"})]})}var X,P,z=t(19),L=s.a.form(X||(X=Object(d.a)(["\n  width: 100%;\n  display: flex;\n"]))),U=s.a.input(P||(P=Object(d.a)(["\n  flex: 1;\n  text-align: center;\n  font-size: 1.5rem;\n  color: var(--gray-dark);\n  padding: 0.25rem 0.5rem;\n  background: transparent;\n  border: 1px solid transparent;\n  border-radius: 0px;\n  transition: border var(--transition-duration) ease;\n\n  &::placeholder {\n    transition: color var(--transition-duration) ease;\n    user-select: none;\n  }\n\n  &:focus {\n    outline: none;\n    border-bottom: 1px solid var(--gray-main);\n    color: var(--gray-main);\n\n    &::placeholder {\n      color: transparent;\n    }\n  }\n"])));function V(){var n=Object(o.useState)(""),e=Object(z.a)(n,2),t=e[0],r=e[1],a=Object(u.b)();return Object(O.jsx)(L,{onSubmit:function(n){(n.preventDefault(),t)&&(a({type:k,payload:{content:t}}),r(""))},children:Object(O.jsx)(U,{type:"text",value:t,onChange:function(n){return r(n.target.value)},placeholder:"new todo"})})}var $,q,A,F,G,H=function(n){return n.todoState.todos},M=function(n){return n.filterState.filter},Q=s.a.div($||($=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n"]))),W=s.a.ul(q||(q=Object(d.a)(["\n  width: 100%;\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n"]))),Y=Object(s.a)(l)(A||(A=Object(d.a)(["\n  margin: 0 auto;\n"])));function Z(){var n=Object(u.c)(H),e=Object(u.c)(M),t=Object(u.b)();return Object(O.jsxs)(Q,{children:[Object(O.jsx)(T,{}),Object(O.jsx)(W,{children:n.filter((function(n){return n.isChecked!==e})).map((function(n){return Object(O.jsx)(K,{todo:n},n.id)}))}),Object(O.jsx)(Y,{onClick:function(){return t({type:E})},children:"\u522a\u9664\u5168\u90e8"})]})}var nn=s.a.div(F||(F=Object(d.a)(["\n  background: var(--bg-main);\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 5rem;\n"]))),en=s.a.div(G||(G=Object(d.a)(["\n  width: 50vw;\n  max-width: 25rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n"])));var tn=function(){var n=Object(u.c)(H);return Object(o.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(n))}),[n]),Object(O.jsx)(nn,{children:Object(O.jsxs)(en,{children:[Object(O.jsx)(V,{}),!!n.length&&Object(O.jsx)(Z,{})]})})},rn=t(11),on=t(20),an=0,cn={todos:function(){var n=JSON.parse(localStorage.getItem("todos"))||[];return an=n.length?n[0].id+1:1,n}()},un=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case k:return Object(b.a)(Object(b.a)({},n),{},{todos:[{id:an++,content:e.payload.content,isChecked:!1}].concat(Object(on.a)(n.todos))});case w:return Object(b.a)(Object(b.a)({},n),{},{todos:n.todos.filter((function(n){return n.id!==e.payload.id}))});case C:return Object(b.a)(Object(b.a)({},n),{},{todos:n.todos.map((function(n){return n.id!==e.payload.id?n:Object(b.a)(Object(b.a)({},n),{},{isChecked:!n.isChecked})}))});case _:return Object(b.a)(Object(b.a)({},n),{},{todos:n.todos.map((function(n){return n.id!==e.payload.id?n:Object(b.a)(Object(b.a)({},n),{},{content:e.payload.content})}))});case E:return Object(b.a)(Object(b.a)({},n),{},{todos:[]});default:return n}},dn={filter:null},sn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S:return Object(b.a)(Object(b.a)({},n),{},{filter:e.payload.filter});default:return n}},ln=Object(rn.a)({todoState:un,filterState:sn}),bn=Object(rn.b)(ln,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(O.jsx)(u.a,{store:bn,children:Object(O.jsx)(tn,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.9c58f67b.chunk.js.map